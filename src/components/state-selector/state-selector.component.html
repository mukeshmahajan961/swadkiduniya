<div class="bg-white py-12">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="relative flex items-center">
      
      <!-- Left Arrow -->
      <button 
        (click)="scroll('left')" 
        [disabled]="isAtStart()"
        class="absolute -left-2 md:-left-4 z-10 p-2 bg-white rounded-full shadow-lg hover:bg-gray-100 transition-opacity duration-300 disabled:opacity-0 disabled:cursor-not-allowed">
        <svg class="w-6 h-6 text-gray-700" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg>
      </button>

      <!-- States Container -->
      <div #containerWrapper class="w-full overflow-hidden">
        <div 
          #scrollContainer 
          class="flex items-start space-x-4 transition-transform duration-500 ease-in-out"
          [style.transform]="'translateX(' + scrollOffset() + 'px)'">
          @for (state of states(); track state.name) {
            <div 
              (click)="selectState(state)" 
              class="flex-shrink-0 flex flex-col items-center space-y-3 cursor-pointer group w-24"
            >
              <div 
                class="w-24 h-24 rounded-full p-1 transition-all duration-300"
                [class.bg-orange-500]="state.name === activeState().name"
                [class.bg-gray-200]="state.name !== activeState().name"
                >
                <img [src]="state.image" [alt]="state.name" class="w-full h-full rounded-full object-cover border-4 border-white">
              </div>
              <span 
                class="text-sm text-center font-semibold transition-colors duration-300"
                [class.text-orange-600]="state.name === activeState().name"
                [class.text-gray-500]="state.name !== activeState().name"
              >
                {{ state.name }}
              </span>
            </div>
          }
        </div>
      </div>

      <!-- Right Arrow -->
      <button 
        (click)="scroll('right')"
        [disabled]="isAtEnd()"
        class="absolute -right-2 md:-right-4 z-10 p-2 bg-white rounded-full shadow-lg hover:bg-gray-100 transition-opacity duration-300 disabled:opacity-0 disabled:cursor-not-allowed">
        <svg class="w-6 h-6 text-gray-700" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>
      </button>
    </div>
  </div>
</div>
